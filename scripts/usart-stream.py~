import serial
import time

ser = serial.Serial('/dev/ttyUSB0', 115200, timeout=0)

def main():

    s.write('\r\n\')
    time.sleep(2) 
    s.flushInput()

# Stream g-code to grbl
#for line in f:
#    l = line.strip() # Strip all EOL characters for consistency
#    print 'Sending: ' + l,
#    s.write(l + '\n') # Send g-code block to grbl
#    grbl_out = s.readline() # Wait for grbl response with carriage return
#    print ' : ' + grbl_out.strip()

    ser.write('y10\n')
    if ('Motion is complete!' in ser.readline()): 
    	ser.close()


if __name__ == '__main__':
    main()
